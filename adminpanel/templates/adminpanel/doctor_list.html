{% extends 'adminpanel/base.html' %}

{% block content %}
<div class="container mt-4">

  <div class="d-flex justify-content-between mb-3">
    <h2>Daftar Dokter</h2>
    <a href="{% url 'adminpanel:doctor_create' %}" class="btn btn-primary">Tambah Dokter</a>
  </div>

  <table class="table table-striped table-bordered align-middle">
    <thead class="table-dark">
      <tr>
        <th>#</th>
        <th>Nama</th>
        <th>Email</th>
        <th>Spesialis</th>
        <th>Poliklinik</th>
        <th>Aksi</th>
      </tr>
    </thead>

    <tbody>
      {% for d in doctors %}
      <tr>
        <td>{{ forloop.counter }}</td>
        <td>{{ d.user.username }}</td>
        <td>{{ d.user.email }}</td>
        <td>{{ d.specialization|default:"-" }}</td>

        <td>
          {% if d.poliklinik %}
            {{ d.poliklinik.name }}
          {% else %}
            -
          {% endif %}
        </td>

        <td class="text-center">
          <a href="{% url 'adminpanel:doctor_edit' d.id %}" class="btn btn-warning btn-sm">Edit</a>
          <a href="{% url 'adminpanel:doctor_delete' d.id %}"
             class="btn btn-danger btn-sm"
             onclick="return confirm('Hapus dokter ini?')">
            Hapus
          </a>
        </td>
      </tr>

      {% empty %}
      <tr>
        <td colspan="6" class="text-center text-muted">Belum ada dokter.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

</div>
{% endblock %}
