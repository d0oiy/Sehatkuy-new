{% extends "base.html" %}
{% load static %}
{% load humanize %}

{% block title %}Laboratorium - SehatKuy{% endblock %}
{% block content %}
<section class="lab-hero py-5" style="background: linear-gradient(135deg, #0f9b8e 0%, #12b8c8 100%); color: white;">
  <div class="container py-4">
    <div class="row align-items-center">
      <div class="col-lg-7">
        <p class="text-uppercase fw-semibold">Laboratorium Terpadu</p>
        <h1 class="display-5 fw-bold">Pemeriksaan Lab Cepat, Akurat, dan Terpercaya</h1>
        <p class="lead mt-3">Layanan laboratorium SehatKuy menyediakan paket kesehatan lengkap, hasil digital, dan konsultasi dengan dokter ahli.</p>
        <div class="d-flex flex-wrap gap-3 mt-4">
          <a href="{% url 'laboratory:booking' %}" class="btn btn-light btn-lg text-success fw-bold">Pesan Pemeriksaan</a>
          <a href="#services" class="btn btn-outline-light btn-lg">Lihat Layanan</a>
        </div>
        <div class="d-flex gap-4 mt-5 small text-uppercase">
          <div>
            <div class="h2 fw-bold mb-0">15+</div>
            Tahun pengalaman
          </div>
          <div>
            <div class="h2 fw-bold mb-0">120+</div>
            Paket lab & diagnostik
          </div>
          <div>
            <div class="h2 fw-bold mb-0">99%</div>
            Akurasi hasil
          </div>
        </div>
      </div>
      <div class="col-lg-5 text-center">
        <img src="{% static 'images/sehatkuylogo.png' %}" alt="Laboratorium" class="img-fluid" style="max-height: 280px;">
      </div>
    </div>
  </div>
</section>

<section class="py-5 bg-light" id="services">
  <div class="container">
    <div class="text-center mb-5">
      <span class="badge bg-success-subtle text-success px-3 py-2 rounded-pill">Layanan Lab</span>
      <h2 class="fw-bold mt-3">Paket Pemeriksaan Populer</h2>
      <p class="text-muted">Fokus pada pencegahan dengan paket yang dirancang dokter spesialis.</p>
    </div>
    <div class="row g-4">
      {% for service in quick_services %}
      <div class="col-md-4">
        <div class="card h-100 shadow-sm border-0">
          <div class="card-body">
            <span class="badge bg-success-subtle text-success">{{ service.get_category_display }}</span>
            <h5 class="mt-3 fw-bold">{{ service.name }}</h5>
            <p class="text-muted small">{{ service.description|truncatewords:20 }}</p>
            <ul class="list-unstyled small text-muted">
              {% if service.sample_type %}<li>ğŸ§ª Sampel: {{ service.sample_type }}</li>{% endif %}
              <li>âš¡ Hasil: {{ service.result_time }}</li>
              {% if service.is_package %}
                <li>ğŸ“‹ Termasuk: {{ service.included_tests|truncatewords:12 }}</li>
              {% elif service.preparation %}
                <li>â± {{ service.preparation }}</li>
              {% endif %}
            </ul>
            <div class="d-flex justify-content-between align-items-center mt-3">
              <div class="h4 text-success mb-0">{{ service.price|floatformat:0|intcomma }} IDR</div>
              <a href="{% url 'laboratory:booking_with_service' service.id %}" class="btn btn-success btn-sm">Pesan</a>
            </div>
          </div>
        </div>
      </div>
      {% empty %}
      <div class="col-12">
        <div class="alert alert-info text-center">Layanan laboratorium sedang disiapkan.</div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<section class="py-5">
  <div class="container">
    <div class="row g-4">
      <div class="col-lg-6">
        <div class="card shadow-sm border-0 h-100">
          <div class="card-body">
            <h4 class="fw-bold mb-3">Kenapa memilih Laboratorium SehatKuy?</h4>
            <div class="d-flex gap-3 mb-3">
              <div class="text-success fs-3">ğŸ”’</div>
              <div>
                <h6 class="fw-semibold mb-1">Hasil akurat dan rahasia</h6>
                <p class="text-muted small mb-0">Dilengkapi QC berlapis dan enkripsi data.</p>
              </div>
            </div>
            <div class="d-flex gap-3 mb-3">
              <div class="text-success fs-3">âš™ï¸</div>
              <div>
                <h6 class="fw-semibold mb-1">Integrasi dengan Dokter</h6>
                <p class="text-muted small mb-0">Hasil otomatis masuk ke dashboard dokter untuk analisa lanjutan.</p>
              </div>
            </div>
            <div class="d-flex gap-3">
              <div class="text-success fs-3">ğŸ“±</div>
              <div>
                <h6 class="fw-semibold mb-1">Notifikasi real-time</h6>
                <p class="text-muted small mb-0">Dapatkan update proses pemeriksaan lewat aplikasi & email.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-6">
        <div class="card shadow-sm border-0 h-100">
          <div class="card-body">
            <h4 class="fw-bold mb-3">Cara Pesan Pemeriksaan</h4>
            <ol class="list-group list-group-numbered">
              <li class="list-group-item">Pilih paket atau tes sesuai kebutuhan Anda.</li>
              <li class="list-group-item">Isi jadwal dan kontak dapat dihubungi.</li>
              <li class="list-group-item">Tim kami mengkonfirmasi dan mengatur pengambilan sampel.</li>
              <li class="list-group-item">Hasil dikirim ke dashboard & email Anda.</li>
            </ol>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="py-5 bg-success-subtle">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-7">
        <h3 class="fw-bold mb-3">Butuh bantuan memilih paket lab?</h3>
        <p class="text-muted mb-4">Konsultan kesehatan kami siap membantu menentukan pemeriksaan yang sesuai dengan riwayat kesehatan Anda.</p>
        <div class="d-flex flex-wrap gap-3">
          <a href="{% url 'consultation:consultation_dashboard' %}" class="btn btn-success">Konsultasi Dokter</a>
          <a href="tel:+62211234567" class="btn btn-outline-success">Hubungi Konsultan Lab</a>
        </div>
      </div>
      <div class="col-lg-5">
        <div class="card border-0 shadow-sm">
          <div class="card-body">
            <h5 class="fw-semibold">Layanan Home Service</h5>
            <p class="text-muted small">Petugas kami dapat datang ke rumah untuk pengambilan sampel.</p>
            <ul class="text-muted small mb-4">
              <li>Wilayah Kota Banjarmasin</li>
              <li>Biaya tambahan mulai 75K</li>
              <li>Petugas terlatih & bersertifikat</li>
            </ul>
            <a href="{% url 'laboratory:booking' %}" class="btn btn-success w-100">Atur Janji Sekarang</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}

